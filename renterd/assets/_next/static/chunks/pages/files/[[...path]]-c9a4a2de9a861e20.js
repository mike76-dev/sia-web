(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{38345:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/files/[[...path]]",function(){return s(33446)}])},16133:function(e,t,s){"use strict";s.d(t,{J:function(){return u}});var n=s(52322),i=s(34852),l=s(73621),r=s(6391),a=s.n(r),o=s(74881),c=s(41491),d=s(30650);function x(){var e,t;let{openDialog:s}=(0,d.Rh)(),r=(0,l.gM)({config:{swr:{revalidateOnFocus:!1}}}),a=(0,l.GJ)({config:{swr:{revalidateOnFocus:!1}}}),o=(0,l.cQ)(),x=(0,c.n)();return(0,n.jsxs)(i.HfT,{name:"renterd",peerCount:null===(e=o.data)||void 0===e?void 0:e.length,connectPeer:()=>s("connectPeer"),isSynced:x.isSynced,percent:x.percent,nodeBlockHeight:x.nodeBlockHeight,estimatedBlockHeight:x.estimatedBlockHeight,firstTimeSyncing:x.firstTimeSyncing,moreThan100BlocksToSync:x.moreThan100BlocksToSync,children:[(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,n.jsx)(i.XxW,{className:"overflow-hidden",size:"14",maxLength:50,value:a.data,type:"address"})]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,n.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,n.jsx)(i.xvT,{size:"14",children:null===(t=r.data)||void 0===t?void 0:t.Name})]})]})}function u(e){let t=(0,l.tM)(),{isSynced:s}=(0,c.n)();return(0,n.jsx)(i.tU3,{appName:"renterd",profile:(0,n.jsx)(x,{}),connectivityRoute:o.h,isSynced:s,walletBalance:t.data?new(a())(t.data):void 0,...e})}},89592:function(e,t,s){"use strict";s.d(t,{e:function(){return o}});var n=s(52322),i=s(34852);function l(e){let{size:t=24}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:t,width:t,fill:"currentColor",viewBox:"0 0 512 512",children:[(0,n.jsx)("path",{d:"M361.975 224.499c0 9.58 7.766 17.344 17.344 17.344c9.58 0 17.34-7.768 17.34-17.344c0-72.711-59.152-131.868-131.853-131.868c-9.58 0-17.344 7.764-17.344 17.341c0 9.58 7.764 17.344 17.344 17.344C318.383 127.314 361.974 170.91 361.975 224.499z"}),(0,n.jsx)("path",{d:"M264.806 0c-9.58 0-17.344 7.768-17.344 17.344c0 9.576 7.763 17.341 17.344 17.341c104.648 0.003 189.785 85.152 189.785 189.814c0 9.576 7.766 17.344 17.342 17.344c9.578 0 17.344-7.768 17.344-17.344C489.275 100.711 388.577 0.003 264.806 0z"}),(0,n.jsx)("path",{d:"M101.971 74.983c-3.272-3.275-7.696-5.08-12.264-5.08c-0.777 0-1.56 0.053-2.343 0.159c-5.37 0.734-10.088 3.936-12.755 8.654c-54.225 95.991-37.602 217.536 40.424 295.572c46.561 46.57 108.472 72.216 174.327 72.22c0.005 0 0.009 0 0.014 0c42.487 0 84.399-10.993 121.201-31.787c4.718-2.667 7.92-7.383 8.651-12.753c0.734-5.37-1.086-10.774-4.917-14.607L101.971 74.983z"}),(0,n.jsx)("path",{d:"M298.517 190.512c-15.494-15.498-37.459-20.637-57.28-15.484l72.77 72.778C319.155 227.983 314.015 206.014 298.517 190.512z"}),(0,n.jsx)("path",{d:"M79.639 376.716l-55.084 110.185c-2.688 5.377-2.4 11.76 0.76 16.875c3.16 5.111 8.74 8.223 14.753 8.223h229.216c9.578 0 17.342-7.764 17.342-17.342v-20.437c-72.244-0.703-140.059-29.151-191.214-80.313C89.872 388.367 84.618 382.629 79.639 376.716z"})]})}var r=s(74881),a=s(49227);function o(){let{autopilotMode:e}=(0,a.K)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.KJW,{title:"Files",route:r._.files.index,children:(0,n.jsx)(i.ROc,{})}),"on"===e&&(0,n.jsx)(i.KJW,{title:"Autopilot",route:r._.autopilot.index,children:(0,n.jsx)(i.aFQ,{})}),(0,n.jsx)(i.KJW,{title:"Configuration",route:r._.config.index,children:(0,n.jsx)(i.wWN,{})}),(0,n.jsx)(i.KJW,{title:"Contracts",route:r._.contracts.index,children:(0,n.jsx)(i.VBo,{})}),(0,n.jsx)(i.KJW,{title:"Hosts",route:r._.hosts.index,children:(0,n.jsx)(i.VHe,{})}),(0,n.jsx)(i.KJW,{title:"Satellite",route:r._.satellite.index,children:(0,n.jsx)(l,{})})]})}},40121:function(e,t,s){"use strict";s.d(t,{a:function(){return i}});var n=s(73621);function i(e){return(0,n.yu)({...e,params:{key:"contractset"}})}},41491:function(e,t,s){"use strict";s.d(t,{n:function(){return l}});var n=s(8396),i=s(73621);function l(){var e,t;let{isUnlocked:s}=(0,n.Hv)(),l=(0,i.DQ)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.synced)?6e4:1e4}}}),r=(0,i.nH)(),a=l.data?null===(e=l.data)||void 0===e?void 0:e.blockHeight:0,o=s&&a&&r?Number((100*Math.min(a/r,1)).toFixed(1)):0;return{isSynced:null===(t=l.data)||void 0===t?void 0:t.synced,nodeBlockHeight:a,estimatedBlockHeight:r,percent:o,moreThan100BlocksToSync:!!a&&!!r&&r-a>100,firstTimeSyncing:!!a&&!!r&&r-a>5e4}}},33446:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var n=s(52322),i=s(89592),l=s(74881),r=s(30650),a=s(34852),o=s(24089);function c(){return(0,n.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,n.jsx)(a.xvT,{children:(0,n.jsx)(a.Ckx,{className:"scale-[200%]"})}),(0,n.jsx)(a.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}function d(){return(0,n.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,n.jsx)(a.xvT,{children:(0,n.jsx)(a.Hb6,{className:"scale-[200%]"})}),(0,n.jsx)(a.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."})]})}function x(){return(0,n.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,n.jsx)(a.xvT,{children:(0,n.jsx)(a.Y9T,{className:"scale-[200%]"})}),(0,n.jsx)(a.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files, drag and drop files or click here to start uploading."})]})}function u(){let{uploadFiles:e,datasetPage:t,pageCount:s,dataState:i,columns:l,sortField:r,sortDirection:u,sortableColumns:h,toggleSort:j}=(0,o.Y)();return(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(a.fhJ,{onDrop:e,noClick:s>0,children:(0,n.jsx)(a.iA_,{isLoading:"loading"===i,emptyState:"noneMatchingFilters"===i?(0,n.jsx)(d,{}):"noneYet"===i?(0,n.jsx)(x,{}):"error"===i?(0,n.jsx)(c,{}):null,pageSize:10,data:t,columns:l,sortableColumns:h,sortField:r,sortDirection:u,toggleSort:j,rowSize:"dense"})})})}var h=s(2784);function j(){let{activeDirectory:e,setActiveDirectory:t}=(0,o.Y)(),s=(0,h.useRef)(null);return(0,h.useEffect)(()=>{let e=setTimeout(()=>{var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100);return()=>{clearTimeout(e)}},[e]),(0,n.jsx)(a.xrM,{children:(0,n.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,n.jsx)(a.xvT,{onClick:()=>t(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Files"}),!!e.length&&(0,n.jsx)(a.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,n.jsx)(a.F3j,{})}),e.map((e,s)=>(0,n.jsxs)(h.Fragment,{children:[s>0&&(0,n.jsx)(a.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,n.jsx)(a.F3j,{})}),(0,n.jsx)(a.xvT,{onClick:()=>t(e=>e.slice(0,s+1)),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e})]},e+s)),(0,n.jsx)("div",{ref:s})]})})}var f=s(16133),m=s(74424),v=s(30774),p=s(76635);function g(){let{configurableColumns:e,toggleColumnVisibility:t,resetDefaultColumnVisibility:s,sortField:i,setSortField:l,sortDirection:r,setSortDirection:c,enabledColumns:d}=(0,o.Y)();return(0,n.jsxs)(a.J2e,{trigger:(0,n.jsxs)(a.zxk,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,n.jsx)(a.hiv,{}),"View",(0,n.jsx)(a.EMN,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:[(0,n.jsxs)(a.WVB,{children:[(0,n.jsx)(a.__J,{children:"Order by"}),(0,n.jsx)(a.kFS,{children:(0,n.jsx)(a.PhF,{value:i,onChange:e=>{l(e.currentTarget.value)},children:Object.entries((0,p.groupBy)(v.Fo,"category")).map(e=>{let[t,s]=e;return(0,n.jsx)("optgroup",{label:t,children:s.map(e=>(0,n.jsx)(a.Wxm,{value:e.id,children:e.label},e.id))},t)})})})]}),(0,n.jsxs)(a.WVB,{children:[(0,n.jsx)(a.__J,{children:"Direction"}),(0,n.jsx)(a.kFS,{children:(0,n.jsxs)(a.PhF,{value:r,onClick:e=>{e.stopPropagation()},onChange:e=>{c(e.currentTarget.value)},children:[(0,n.jsx)(a.Wxm,{value:"desc",children:"descending"},"desc"),(0,n.jsx)(a.Wxm,{value:"asc",children:"ascending"},"asc")]})})]}),(0,n.jsx)(a.Clw,{}),(0,n.jsxs)(a.WVB,{children:[(0,n.jsx)(a.__J,{children:"Display properties"}),(0,n.jsx)(a.kFS,{children:(0,n.jsx)(a.zxk,{onClick:e=>{e.stopPropagation(),s()},children:"Reset default"})})]}),(0,n.jsx)(a.WVB,{children:(0,n.jsx)(a.j4H,{options:e.map(e=>({label:e.label,value:e.id})),values:d,onChange:e=>t(e)})})]})}function b(){let{openDialog:e}=(0,r.Rh)(),{uploadFiles:t}=(0,o.Y)(),{getRootProps:s,getInputProps:i}=(0,m.uI)({noDrag:!0,onDrop:t});return(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(a.zxk,{onClick:()=>e("filesSearch"),tip:"Search files",children:(0,n.jsx)(a.UBs,{})}),(0,n.jsxs)(a.zxk,{...s(),tip:"Upload files",children:[(0,n.jsx)("input",{...i()}),(0,n.jsx)(a.bQp,{})]}),(0,n.jsx)(a.zxk,{onClick:()=>e("filesCreateDirectory"),tip:"Create directory",children:(0,n.jsx)(a.L37,{})}),(0,n.jsx)(g,{})]})}var w=s(73621),N=s(2288),T=s(89553),z=s(40121);function S(){var e,t,s,i,r,c,d;let{pageCount:x}=(0,o.Y)(),u=(0,w.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}}),h=(0,T.V)(),j=(0,w.e$)({config:{swr:{errorRetryCount:0}}}),f=(0,z.a)(),m=function(){var e,t;let s=(0,T.V)(),n=(0,w.e$)({disabled:"on"!==s}),i=(0,z.a)();return{isValidating:n.isValidating||i.isValidating,data:(null===(e=n.data)||void 0===e?void 0:e.contracts.set)===(null===(t=i.data)||void 0===t?void 0:t.default)}}(),v="none";return"on"!==h||m.isValidating||m.data||(v="contractSetMismatch"),"on"===h&&j.error&&(v="setupAutopilot"),!f.data||(null===(e=f.data)||void 0===e?void 0:e.default)||(v="setupDefaultContractSet"),(0,n.jsxs)("div",{className:"flex gap-2 w-full",children:["setupDefaultContractSet"===v&&(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)(a.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:(0,n.jsx)(a.qdM,{})}),(0,n.jsxs)(a.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:["Configure a default contract set to get started."," ",(0,n.jsx)(a.rUS,{underline:"hover",size:"12",font:"mono",weight:"medium",color:"amber",href:l._.config.index,children:"Configuration →"})]})]}),"setupAutopilot"===v&&(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)(a.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:(0,n.jsx)(a.qdM,{})}),(0,n.jsxs)(a.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:["Configure autopilot to get started."," ",(0,n.jsx)(a.rUS,{underline:"hover",size:"12",font:"mono",weight:"medium",color:"amber",href:l._.autopilot.index,children:"Autopilot →"})]})]}),"contractSetMismatch"===v&&(0,n.jsx)(a.ua7,{align:"start",content:(0,n.jsx)(n.Fragment,{children:"The autopilot contract set does not match the default contract set. This means that by default workers will not upload data to contracts that autopilot manages. Unless these contract are being manually maintained, this will result in data loss. Continue with caution or update the autopilot contract set to match the default contract set."}),children:(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)(a.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:(0,n.jsx)(a.qdM,{})}),(0,n.jsx)(a.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploaded data will not be managed by autopilot."})]})}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(a.ua7,{side:"bottom",content:"Filtered statistics",children:(0,n.jsx)(a.xvT,{size:"12",color:"verySubtle",children:(0,n.jsx)(a.q0D,{})})}),(0,n.jsx)(a.ua7,{side:"bottom",content:"Number of files in current directory",children:(0,n.jsxs)(a.xvT,{size:"12",font:"mono",children:[x.toLocaleString(),u.data?" of ".concat(null===(t=u.data)||void 0===t?void 0:t.numObjects.toLocaleString()," files"):" files"]})})]}),u.data&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z0O,{variant:"vertical",className:"h-full"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(a.ua7,{side:"bottom",content:(0,n.jsxs)(a.xvT,{className:"flex flex-col gap-1",children:[(0,n.jsx)(a.xvT,{size:"12",color:"subtle",children:"Size of all files"}),(0,n.jsx)(a.xvT,{size:"12",color:"subtle",children:(0,N.vW)(null===(s=u.data)||void 0===s?void 0:s.totalObjectsSize)})]}),children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(a.xvT,{size:"12",color:"verySubtle",children:(0,n.jsx)(a.nVB,{})}),(0,n.jsx)(a.xvT,{size:"12",font:"mono",children:(0,N.vW)(null===(i=u.data)||void 0===i?void 0:i.totalObjectsSize)})]})}),(0,n.jsx)(a.ua7,{align:"end",side:"bottom",content:(0,n.jsxs)(a.xvT,{className:"flex flex-col gap-1",children:[(0,n.jsx)(a.xvT,{size:"12",color:"subtle",children:"Size of all files"}),(0,n.jsxs)(a.xvT,{size:"12",color:"subtle",children:[(0,N.vW)(null===(r=u.data)||void 0===r?void 0:r.totalSectorsSize)," with redundancy"]}),(0,n.jsxs)(a.xvT,{size:"12",color:"subtle",children:[(0,N.vW)(null===(c=u.data)||void 0===c?void 0:c.totalUploadedSize)," with redundancy and repairs"]})]}),children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(a.xvT,{size:"12",color:"verySubtle",children:(0,n.jsx)(a.nDH,{})}),(0,n.jsx)(a.xvT,{size:"12",font:"mono",children:(0,N.vW)(null===(d=u.data)||void 0===d?void 0:d.totalSectorsSize)})]})})]})]})]})]})}function y(){let{openDialog:e}=(0,r.Rh)();return(0,n.jsx)(f.J,{title:"Files",navTitle:null,routes:l._,sidenav:(0,n.jsx)(i.e,{}),nav:(0,n.jsx)(j,{}),stats:(0,n.jsx)(S,{}),actions:(0,n.jsx)(b,{}),openSettings:()=>e("settings"),children:(0,n.jsx)("div",{className:"p-6 min-w-fit",children:(0,n.jsx)(u,{})})})}function k(){return(0,n.jsx)(y,{})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=38345)}),_N_E=e.O()}]);