(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{38345:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/files/[[...path]]",function(){return s(38441)}])},65141:function(e,t,s){"use strict";s.d(t,{J:function(){return h}});var i=s(52322),n=s(32721),l=s(73398),a=s(6391),r=s.n(a),o=s(97455),c=s(7113),d=s(7493);function x(){var e,t,s,a,r;let{openDialog:o}=(0,d.Rh)(),x=(0,l.d_)({config:{swr:{revalidateOnFocus:!1}}}),u=(0,l.Tu)({config:{swr:{revalidateOnFocus:!1}}}),h=(0,l.cQ)(),v=(0,c.n)(),j=null===(e=x.data)||void 0===e?void 0:e.version,f="?"===j?"https://github.com/SiaFoundation/renterd/commits/":(null==j?void 0:j.match(/^v\d+\.\d+\.\d+/))?"https://github.com/SiaFoundation/renterd/releases/".concat(j):"https://github.com/SiaFoundation/renterd/tree/".concat(j);return(0,i.jsxs)(n.HfT,{name:"renterd",peerCount:null===(t=h.data)||void 0===t?void 0:t.length,connectPeer:()=>o("connectPeer"),isSynced:v.isSynced,syncPercent:v.syncPercent,nodeBlockHeight:v.nodeBlockHeight,estimatedBlockHeight:v.estimatedBlockHeight,firstTimeSyncing:v.firstTimeSyncing,moreThan100BlocksToSync:v.moreThan100BlocksToSync,children:[(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(n.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,i.jsx)(n.XxW,{className:"overflow-hidden",size:"14",maxLength:50,value:null===(s=u.data)||void 0===s?void 0:s.address,type:"address"})]}),(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(n.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,i.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden",children:(0,i.jsx)(n.xvT,{size:"14",children:null===(a=x.data)||void 0===a?void 0:a.network})})]}),(0,i.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,i.jsx)(n.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,i.jsx)(n.rUS,{size:"14",href:f,underline:"hover",target:"_blank",ellipsis:!0,children:null===(r=x.data)||void 0===r?void 0:r.version})]})]})}function u(){let e=(0,l.d_)({config:{swr:{revalidateOnFocus:!1}}});return e.data&&"Mainnet"!==e.data.network?(0,i.jsx)(n.t6k,{testnetName:e.data.network}):null}function h(e){let t=(0,l.Tu)(),{isSynced:s}=(0,c.n)();return(0,i.jsx)(n.tU3,{appName:"renterd",profile:(0,i.jsx)(x,{}),banner:(0,i.jsx)(u,{}),connectivityRoute:o.h,isSynced:s,walletBalance:t.data?new(r())(t.data.spendable).plus(t.data.unconfirmed):void 0,...e})}},30013:function(e,t,s){"use strict";s.d(t,{e:function(){return u}});var i=s(52322),n=s(32721),l=s(3939);function a(e){let{size:t=24}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:t,width:t,fill:"currentColor",viewBox:"0 0 512 512",children:[(0,i.jsx)("path",{d:"M361.975 224.499c0 9.58 7.766 17.344 17.344 17.344c9.58 0 17.34-7.768 17.34-17.344c0-72.711-59.152-131.868-131.853-131.868c-9.58 0-17.344 7.764-17.344 17.341c0 9.58 7.764 17.344 17.344 17.344C318.383 127.314 361.974 170.91 361.975 224.499z"}),(0,i.jsx)("path",{d:"M264.806 0c-9.58 0-17.344 7.768-17.344 17.344c0 9.576 7.763 17.341 17.344 17.341c104.648 0.003 189.785 85.152 189.785 189.814c0 9.576 7.766 17.344 17.342 17.344c9.578 0 17.344-7.768 17.344-17.344C489.275 100.711 388.577 0.003 264.806 0z"}),(0,i.jsx)("path",{d:"M101.971 74.983c-3.272-3.275-7.696-5.08-12.264-5.08c-0.777 0-1.56 0.053-2.343 0.159c-5.37 0.734-10.088 3.936-12.755 8.654c-54.225 95.991-37.602 217.536 40.424 295.572c46.561 46.57 108.472 72.216 174.327 72.22c0.005 0 0.009 0 0.014 0c42.487 0 84.399-10.993 121.201-31.787c4.718-2.667 7.92-7.383 8.651-12.753c0.734-5.37-1.086-10.774-4.917-14.607L101.971 74.983z"}),(0,i.jsx)("path",{d:"M298.517 190.512c-15.494-15.498-37.459-20.637-57.28-15.484l72.77 72.778C319.155 227.983 314.015 206.014 298.517 190.512z"}),(0,i.jsx)("path",{d:"M79.639 376.716l-55.084 110.185c-2.688 5.377-2.4 11.76 0.76 16.875c3.16 5.111 8.74 8.223 14.753 8.223h229.216c9.578 0 17.342-7.764 17.342-17.342v-20.437c-72.244-0.703-140.059-29.151-191.214-80.313C89.872 388.367 84.618 382.629 79.639 376.716z"})]})}var r=s(73398),o=s(82851),c=s(97455),d=s(70437),x=s(7493);function u(){var e,t;let{autopilot:s}=(0,d.q)(),u=(0,r.Z7)(),{openDialog:h}=(0,x.Rh)(),v=!(null===(e=u.data)||void 0===e?void 0:e.find(e=>"info"!==e.severity)),j=(null===(t=u.data)||void 0===t?void 0:t.length)||0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.KJW,{title:"Files",route:c._.files.index,children:(0,i.jsx)(l.ROc,{})}),"on"===s.status&&(0,i.jsx)(n.KJW,{title:"Autopilot",route:c._.autopilot.index,children:(0,i.jsx)(l.aFQ,{})}),(0,i.jsx)(n.KJW,{title:"Configuration",route:c._.config.index,children:(0,i.jsx)(l.wWN,{})}),(0,i.jsx)(n.KJW,{title:"Contracts",route:c._.contracts.index,children:(0,i.jsx)(l.VBo,{})}),(0,i.jsx)(n.KJW,{title:"Hosts",route:c._.hosts.index,children:(0,i.jsx)(l.VHe,{})}),(0,i.jsx)(n.KJW,{title:"Satellite",route:c._.satellite.index,children:(0,i.jsx)(a,{})}),(0,i.jsxs)("div",{className:"relative",children:[!!j&&v&&(0,i.jsx)("div",{className:(0,o.cx)("absolute -right-[2px] top-px w-1 h-1","rounded-full","bg-gray-1000 dark:bg-white","pointer-events-none")}),!!j&&!v&&(0,i.jsx)(n.xvT,{size:"10",className:(0,o.cx)("absolute -right-[9px] -top-1 py-px px-[5px]","text-white","bg-red-500 dark:bg-red-500 rounded","pointer-events-none"),color:"none",children:j.toLocaleString()}),(0,i.jsx)(n.KJW,{title:"Alerts",onClick:()=>h("alerts"),children:(0,i.jsx)(l.Dkj,{})})]})]})}},40325:function(e,t,s){"use strict";s.d(t,{a:function(){return n}});var i=s(73398);function n(e){return(0,i.yu)({...e,params:{key:"contractset"}})}},17480:function(e,t,s){"use strict";s.d(t,{w:function(){return n}});var i=s(73398);function n(e){return(0,i.yu)({...e,params:{key:"redundancy"}})}},7113:function(e,t,s){"use strict";s.d(t,{n:function(){return l}});var i=s(5072),n=s(73398);function l(){var e,t,s,l;let{isUnlocked:a}=(0,i.Hv)(),r=(0,n.DQ)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.synced)?6e4:1e4}}}),o=(0,n.nH)(),c=r.data?null===(e=r.data)||void 0===e?void 0:e.blockHeight:0,d=(0,n.Tu)({config:{swr:{refreshInterval:e=>(null==e?void 0:e.scanHeight)>=c?6e4:1e4}}}),x=a&&c&&o?Number((100*Math.min(c/o,1)).toFixed(1)):0,u=a&&c&&d.data?Number((100*Math.min(d.data.scanHeight/o,1)).toFixed(1)):0;return{isSynced:null===(t=r.data)||void 0===t?void 0:t.synced,isWalletSynced:(null===(s=r.data)||void 0===s?void 0:s.synced)&&(null===(l=d.data)||void 0===l?void 0:l.scanHeight)>=c-1,nodeBlockHeight:c,estimatedBlockHeight:o,syncPercent:x,walletScanPercent:u,moreThan100BlocksToSync:!!c&&!!o&&o-c>100,firstTimeSyncing:!!c&&!!o&&o-c>5e4}}},38441:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var i=s(52322),n=s(30013),l=s(97455),a=s(7493),r=s(32721),o=s(86958),c=s(3939),d=s(73398),x=s(70437);function u(){let{autopilot:e}=(0,x.q)(),t=(0,d.e$)({config:{swr:{errorRetryCount:0}}});return{active:"on"===e.status&&!!t.error}}var h=s(40323),v=s(17480);function j(){var e;let t=(0,v.w)({config:{swr:{revalidateOnFocus:!1}}}),{datasetCount:s,isLoading:i}=(0,h.G)(),n=t.data&&!i&&s<t.data.totalShards;return{active:n,count:s,required:(null===(e=t.data)||void 0===e?void 0:e.totalShards)||0}}function f(){return(0,i.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,i.jsx)(r.xvT,{children:(0,i.jsx)(c.Ckx,{className:"scale-[200%]"})}),(0,i.jsx)(r.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}function m(){return(0,i.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,i.jsx)(r.xvT,{children:(0,i.jsx)(c.Hb6,{className:"scale-[200%]"})}),(0,i.jsx)(r.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."})]})}function g(){return(0,i.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,i.jsx)(r.xvT,{children:(0,i.jsx)(c.Y9T,{className:"scale-[200%]"})}),(0,i.jsx)(r.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files, drag and drop files or click here to start uploading."})]})}function p(){let{dataState:e,isViewingRootOfABucket:t}=(0,o.Y)(),s=u(),n=j();return"noneMatchingFilters"===e?(0,i.jsx)(m,{}):"error"===e?(0,i.jsx)(f,{}):t&&"noneYet"===e&&s.active?(0,i.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,i.jsx)(r.xvT,{children:(0,i.jsx)(c.Y9T,{className:"scale-[200%]"})}),(0,i.jsxs)("div",{className:"flex flex-col gap-6 justify-center items-center",children:[(0,i.jsx)(r.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Before you can upload files you must configure autopilot. Autopilot finds contracts with hosts based on the settings you choose. Autopilot also repairs your data as hosts come and go."}),(0,i.jsx)(r.Qjf,{variant:"accent",href:l._.autopilot.index,children:"Configure autopilot â†’"})]})]}):t&&"noneYet"===e&&n.active?(0,i.jsxs)("div",{className:"flex flex-col gap-12 justify-center items-center h-[400px] cursor-pointer",children:[(0,i.jsx)(r.xvT,{children:(0,i.jsx)(c.Y9T,{className:"scale-[200%]"})}),(0,i.jsxs)("div",{className:"flex flex-col gap-4 justify-center items-center",children:[(0,i.jsxs)(r.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["There are not enough contracts to upload data yet. Redundancy is configured to use ",n.required," shards which means at least that many contracts are required."]}),(0,i.jsxs)(r.xvT,{size:"30",className:"text-center max-w-[500px]",children:[n.count,"/",n.required]})]})]}):"noneYet"===e?(0,i.jsx)(g,{}):null}function b(){let{isViewingABucket:e}=(0,o.Y)(),t=u(),s=j();return e&&!t.active&&!s.active}function w(){let{uploadFiles:e,datasetPage:t,pageCount:s,dataState:n,columns:l,sortField:a,sortDirection:c,sortableColumns:d,toggleSort:x}=(0,o.Y)(),u=b();return(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(r.fhJ,{onDrop:e,noClick:!u||s>0,noDrag:!u,children:(0,i.jsx)(r.iA_,{isLoading:"loading"===n,emptyState:(0,i.jsx)(p,{}),pageSize:10,data:t,columns:l,sortableColumns:d,sortField:a,sortDirection:c,toggleSort:x,rowSize:"dense"})})})}var N=s(2784);function T(){let{activeDirectory:e,setActiveDirectory:t}=(0,o.Y)(),s=(0,N.useRef)(null);return(0,N.useEffect)(()=>{let e=setTimeout(()=>{var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100);return()=>{clearTimeout(e)}},[e]),(0,i.jsx)(r.xrM,{children:(0,i.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,i.jsx)(r.xvT,{onClick:()=>t(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Files"}),e.length>0&&(0,i.jsx)(r.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,i.jsx)(c.F3j,{})}),e.map((e,s)=>(0,i.jsxs)(N.Fragment,{children:[s>0&&(0,i.jsx)(r.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,i.jsx)(c.F3j,{})}),(0,i.jsx)(r.xvT,{onClick:()=>t(e=>e.slice(0,s+1)),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e})]},e+s)),(0,i.jsx)("div",{ref:s})]})})}var z=s(65141),y=s(74424),k=s(34117),S=s(3440),C=s.n(S);function _(){let{configurableColumns:e,toggleColumnVisibility:t,resetDefaultColumnVisibility:s,sortField:n,setSortField:l,sortDirection:a,setSortDirection:d,enabledColumns:x}=(0,o.Y)();return(0,i.jsxs)(r.J2e,{trigger:(0,i.jsxs)(r.zxk,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,i.jsx)(c.hiv,{}),"View",(0,i.jsx)(c.EMN,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:[(0,i.jsxs)(r.WVB,{children:[(0,i.jsx)(r.__J,{children:"Order by"}),(0,i.jsx)(r.kFS,{children:(0,i.jsx)(r.PhF,{value:n,onChange:e=>{l(e.currentTarget.value)},children:Object.entries(C()(k.Fo,"category")).map(e=>{let[t,s]=e;return(0,i.jsx)("optgroup",{label:t,children:s.map(e=>(0,i.jsx)(r.Wxm,{value:e.id,children:e.label},e.id))},t)})})})]}),(0,i.jsxs)(r.WVB,{children:[(0,i.jsx)(r.__J,{children:"Direction"}),(0,i.jsx)(r.kFS,{children:(0,i.jsxs)(r.PhF,{value:a,onClick:e=>{e.stopPropagation()},onChange:e=>{d(e.currentTarget.value)},children:[(0,i.jsx)(r.Wxm,{value:"desc",children:"descending"},"desc"),(0,i.jsx)(r.Wxm,{value:"asc",children:"ascending"},"asc")]})})]}),(0,i.jsx)(r.Clw,{}),(0,i.jsxs)(r.WVB,{children:[(0,i.jsx)(r.__J,{children:"Display properties"}),(0,i.jsx)(r.kFS,{children:(0,i.jsx)(r.zxk,{onClick:e=>{e.stopPropagation(),s()},children:"Reset default"})})]}),(0,i.jsx)(r.WVB,{children:(0,i.jsx)(r.j4H,{options:e.map(e=>({label:e.label,value:e.id})),values:x,onChange:e=>t(e)})})]})}function F(){let{openDialog:e}=(0,a.Rh)(),{uploadFiles:t,isViewingBuckets:s}=(0,o.Y)(),n=b(),{getRootProps:l,getInputProps:d}=(0,y.uI)({noDrag:!0,noClick:!n,onDrop:t});return(0,i.jsxs)("div",{className:"flex gap-2",children:[s?(0,i.jsxs)(r.zxk,{onClick:()=>e("filesCreateBucket"),tip:"Create bucket",children:[(0,i.jsx)(c.aXP,{}),"Create bucket"]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.zxk,{onClick:()=>e("filesSearch"),tip:"Search files",children:(0,i.jsx)(c.UBs,{})}),(0,i.jsxs)(r.zxk,{...l(),tip:"Upload files",disabled:!n,children:[(0,i.jsx)("input",{...d()}),(0,i.jsx)(c.bQp,{})]}),(0,i.jsx)(r.zxk,{disabled:!n,onClick:()=>e("filesCreateDirectory"),tip:"Create directory",children:(0,i.jsx)(c.L37,{})})]}),(0,i.jsx)(_,{})]})}var W=s(8411);function O(){let e=(0,d.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}});if(!e.data&&e.isValidating)return(0,i.jsx)(r.xgg,{className:"pr-1"});if(!e.data)return null;let t=e.data.totalObjectsSize?e.data.totalSectorsSize/e.data.totalObjectsSize:0;return(0,i.jsx)(r.ua7,{side:"bottom",content:(0,i.jsxs)(r.xvT,{className:"flex justify-between gap-6",children:[(0,i.jsxs)(r.xvT,{className:"flex flex-col gap-1",children:[(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"size of all files"}),(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"with redundancy"}),!!t&&(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"average redundancy factor"}),(0,i.jsx)(r.Z0O,{className:"w-full my-1"}),(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"reclaimable space"}),(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"total storage utilization"})]}),(0,i.jsxs)(r.xvT,{className:"flex flex-col gap-1 items-end",children:[(0,i.jsx)(r.xvT,{size:"12",children:(0,W.vW)(e.data.totalObjectsSize)}),(0,i.jsx)(r.xvT,{size:"12",children:(0,W.vW)(e.data.totalSectorsSize)}),!!t&&(0,i.jsxs)(r.xvT,{size:"12",font:"mono",children:[t.toFixed(1),"x"]}),(0,i.jsx)(r.Z0O,{className:"w-full my-1"}),(0,i.jsx)(r.xvT,{size:"12",children:(0,W.vW)(e.data.totalUploadedSize-e.data.totalSectorsSize)}),(0,i.jsx)(r.xvT,{size:"12",children:(0,W.vW)(e.data.totalUploadedSize)})]})]}),children:(0,i.jsx)(r.xvT,{size:"12",font:"mono",children:"".concat((0,W.vW)(e.data.totalObjectsSize)).concat(t?" @ ".concat(t.toFixed(1),"x"):"")})})}var V=s(53284);function B(){var e;let{activeBucket:t}=(0,o.Y)(),s=(0,d.Jv)({disabled:!t,params:{key:"",bucket:t},config:{swr:{dedupingInterval:5e3}}}),n=(0,N.useMemo)(()=>{var e,t,i,n;return null===(n=s.data)||void 0===n?void 0:null===(i=n.entries)||void 0===i?void 0:i.reduce((e,t)=>{let{health:s}=t;return s<e?s:e},(null===(t=s.data)||void 0===t?void 0:null===(e=t.entries[0])||void 0===e?void 0:e.health)||1)},[s.data]),{displayHealth:l,label:a}=(0,V.B)({health:n,size:1,isDirectory:!0});return t&&(null===(e=s.data)||void 0===e?void 0:e.entries)&&0!==s.data.entries.length?(0,i.jsx)(r.ua7,{align:"end",content:(0,i.jsxs)("div",{className:"flex flex-col overflow-hidden mb-1",children:[(0,i.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,i.jsx)(r.xvT,{size:"12",children:a}),(0,i.jsxs)(r.xvT,{size:"12",children:[(100*l).toFixed(0),"%"]})]}),(0,i.jsx)(r.Z0O,{className:"w-full my-1.5"}),(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"Health is calculated as the minimum health value from across all file slabs. For directories this is across all contained files."}),(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"Slab health is calculated as the number of shards with active contracts in the autopilot contract set above the minimum required shards and expressed as a percentage."})]}),(0,i.jsx)(r.Z0O,{className:"w-full my-1.5"}),(0,i.jsxs)("div",{className:"flex gap-3 justify-between",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"excellent health"}),(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"good health"}),(0,i.jsx)(r.xvT,{size:"12",color:"subtle",children:"poor health"})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[(0,i.jsxs)(r.xvT,{size:"12",color:"subtle",children:[100*V.V.excellent,"%"]}),(0,i.jsxs)(r.xvT,{size:"12",color:"subtle",children:[100*V.V.good,"% -"," ",100*V.V.excellent,"%"]}),(0,i.jsxs)(r.xvT,{size:"12",color:"subtle",children:[100*V.V.poor,"% - ",100*V.V.good,"%"]})]})]})]}),children:(0,i.jsx)(r.xvT,{size:"12",font:"mono",className:"flex",children:a})}):null}var J=s(40325);function Y(){let{dataState:e,isViewingRootOfABucket:t,isViewingBuckets:s}=(0,o.Y)(),n=function(){let{autopilot:e}=(0,x.q)(),t=function(){var e,t;let{autopilot:s}=(0,x.q)(),i=(0,d.e$)({disabled:"on"!==s.status}),n=(0,J.a)();return{isValidating:i.isValidating||n.isValidating,data:(null===(e=i.data)||void 0===e?void 0:e.contracts.set)===(null===(t=n.data)||void 0===t?void 0:t.default)}}(),s="on"===e.status&&!t.isValidating&&!t.data;return{active:s}}(),a=function(){var e;let t=(0,J.a)();return{active:t.data&&!(null===(e=t.data)||void 0===e?void 0:e.default)}}(),h=u(),v=j();if(a.active)return(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(r.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:(0,i.jsx)(c.qdM,{})}),(0,i.jsxs)(r.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:["Configure a default contract set to get started."," ",(0,i.jsx)(r.rUS,{underline:"hover",size:"12",font:"mono",weight:"medium",color:"amber",href:l._.config.index,children:"Configuration â†’"})]})]});if(n.active)return(0,i.jsx)(r.ua7,{align:"start",content:(0,i.jsx)(i.Fragment,{children:"The autopilot contract set does not match the default contract set. This means that by default workers will not upload data to contracts that autopilot manages. Unless these contract are being manually maintained, this will result in data loss. Continue with caution or update the autopilot contract set to match the default contract set."}),children:(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(r.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:(0,i.jsx)(c.qdM,{})}),(0,i.jsx)(r.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploaded data will not be managed by autopilot."})]})});let f=h.active&&s,m=h.active&&t&&"noneYet"!==e,g=h.active&&!t;if(f||m||g)return(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(r.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:(0,i.jsx)(c.qdM,{})}),(0,i.jsxs)(r.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:["Configure autopilot to get started."," ",(0,i.jsx)(r.rUS,{underline:"hover",size:"12",font:"mono",weight:"medium",color:"amber",href:l._.autopilot.index,children:"Autopilot â†’"})]})]});let p=v.active&&s,b=v.active&&t&&"noneYet"!==e,w=v.active&&!t;return p||b||w?(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(r.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:(0,i.jsx)(c.qdM,{})}),(0,i.jsxs)(r.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:["Not enought contracts to upload files. ",v.count,"/",v.required]})]}):null}function H(){var e,t;let{isViewingABucket:s,pageCount:n}=(0,o.Y)(),l=(0,d.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}});return s?(0,i.jsx)(r.ua7,{side:"bottom",content:"Number of files in current directory",children:(0,i.jsxs)(r.xvT,{size:"12",font:"mono",children:[n.toLocaleString(),l.data?" of ".concat(null===(t=l.data)||void 0===t?void 0:t.numObjects.toLocaleString()," files"):" files"]})}):(0,i.jsx)(r.ua7,{side:"bottom",content:"Number of files across all buckets",children:l.data?(0,i.jsxs)(r.xvT,{size:"12",font:"mono",children:[null===(e=l.data)||void 0===e?void 0:e.numObjects.toLocaleString()," files"]}):(0,i.jsx)(r.xgg,{})})}function M(){return(0,i.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,i.jsx)(Y,{}),(0,i.jsx)("div",{className:"flex-1"}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)(r.ua7,{side:"bottom",content:"Filtered statistics",children:(0,i.jsx)(r.xvT,{size:"12",color:"verySubtle",children:(0,i.jsx)(c.q0D,{})})}),(0,i.jsx)(H,{})]}),(0,i.jsx)(r.Z0O,{variant:"vertical",className:"h-full"}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)(r.ua7,{side:"bottom",content:"Global statistics",children:(0,i.jsx)(r.xvT,{size:"12",color:"verySubtle",children:(0,i.jsx)(c.RFr,{})})}),(0,i.jsx)(O,{}),(0,i.jsx)(B,{})]})]})]})}function q(){let{openDialog:e}=(0,a.Rh)();return(0,i.jsx)(z.J,{title:"Files",navTitle:null,routes:l._,sidenav:(0,i.jsx)(n.e,{}),nav:(0,i.jsx)(T,{}),stats:(0,i.jsx)(M,{}),actions:(0,i.jsx)(F,{}),openSettings:()=>e("settings"),children:(0,i.jsx)("div",{className:"p-6 min-w-fit",children:(0,i.jsx)(w,{})})})}function D(){return(0,i.jsx)(q,{})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=38345)}),_N_E=e.O()}]);