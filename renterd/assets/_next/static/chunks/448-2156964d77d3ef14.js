"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[448],{17398:function(e,s,t){t.d(s,{C:function(){return c}});var l=t(52322),i=t(69550),n=t(61020),r=t(41736);function a(){let{activeExplorerMode:e,setExplorerModeDirectory:s,setExplorerModeFlat:t,isViewingUploads:a,navigateToUploads:c}=(0,r.b)();return(0,l.jsxs)(i.h_2,{trigger:(0,l.jsx)(i.zxk,{tipSide:"bottom",tip:a?"Viewing uploads":"directory"===e?"Viewing directory explorer":"Viewing all bucket files",children:a?(0,l.jsx)(n.bQp,{}):"directory"===e?(0,l.jsx)(n.Qbr,{}):(0,l.jsx)(n.nDH,{})}),contentProps:{align:"start",side:"bottom",className:"max-w-[300px]"},children:[(0,l.jsxs)(i.Xiv,{onSelect:s,children:[(0,l.jsx)(i.KpP,{children:(0,l.jsx)(n.Qbr,{})}),"Directory"]}),(0,l.jsxs)(i.Xiv,{onSelect:t,children:[(0,l.jsx)(i.KpP,{children:(0,l.jsx)(n.nDH,{})}),"All files"]}),(0,l.jsxs)(i.Xiv,{onSelect:c,children:[(0,l.jsx)(i.KpP,{children:(0,l.jsx)(n.bQp,{})}),"Uploads"]})]})}function c(){let{isViewingBuckets:e}=(0,r.b)();return e?(0,l.jsx)(i.ua7,{content:"Viewing all buckets",children:(0,l.jsx)("div",{children:(0,l.jsx)(i.zxk,{state:"waiting",children:(0,l.jsx)(n.fi8,{size:16})})})}):(0,l.jsx)(a,{})}},57448:function(e,s,t){t.d(s,{h:function(){return es}});var l=t(52322),i=t(46075),n=t(98334),r=t(97112),a=t(2784),c=t(69550),o=t(61020),d=t(41736),x=t(17398);function u(){let{activeDirectory:e,setActiveDirectory:s}=(0,d.b)(),t=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100);return()=>{clearTimeout(e)}},[e]),(0,l.jsxs)("div",{className:"flex gap-2 items-center h-full",children:[(0,l.jsx)(x.C,{}),(0,l.jsx)(c.xrM,{children:(0,l.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,l.jsx)(c.xvT,{onClick:()=>s(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Buckets"}),e.length>0&&(0,l.jsx)(c.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,l.jsx)(o.F3j,{})}),e.map((e,t)=>(0,l.jsxs)(a.Fragment,{children:[t>0&&(0,l.jsx)(c.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,l.jsx)(o.F3j,{})}),(0,l.jsx)(c.xvT,{onClick:()=>s(e=>e.slice(0,t+1)),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e})]},e+t)),(0,l.jsx)("div",{ref:t})]})})]})}var h=t(91362),j=t(74424),f=t(3077),m=t(52058);function v(){let{configurableColumns:e,toggleColumnVisibility:s,resetDefaultColumnVisibility:t,sortField:i,setSortField:n,sortDirection:r,setSortDirection:a,enabledColumns:x}=(0,d.b)();return(0,l.jsxs)(c.J2e,{trigger:(0,l.jsxs)(c.zxk,{size:"small",tip:"Configure view",tipAlign:"end",children:[(0,l.jsx)(o.hiv,{}),"View",(0,l.jsx)(o.EMN,{})]}),contentProps:{align:"end",className:"max-w-[300px]"},children:[(0,l.jsxs)(c.WVB,{children:[(0,l.jsx)(c.__J,{children:"Order by"}),(0,l.jsx)(c.kFS,{children:(0,l.jsx)(c.PhF,{value:i,onChange:e=>{n(e.currentTarget.value)},children:Object.entries((0,m.Z)(f.Fo,"category")).map(e=>{let[s,t]=e;return(0,l.jsx)("optgroup",{label:s,children:t.map(e=>(0,l.jsx)(c.Wxm,{value:e.id,children:e.label},e.id))},s)})})})]}),(0,l.jsxs)(c.WVB,{children:[(0,l.jsx)(c.__J,{children:"Direction"}),(0,l.jsx)(c.kFS,{children:(0,l.jsxs)(c.PhF,{value:r,onClick:e=>{e.stopPropagation()},onChange:e=>{a(e.currentTarget.value)},children:[(0,l.jsx)(c.Wxm,{value:"desc",children:"descending"},"desc"),(0,l.jsx)(c.Wxm,{value:"asc",children:"ascending"},"asc")]})})]}),(0,l.jsx)(c.Clw,{}),(0,l.jsxs)(c.WVB,{children:[(0,l.jsx)(c.__J,{children:"Display properties"}),(0,l.jsx)(c.kFS,{children:(0,l.jsx)(c.zxk,{onClick:e=>{e.stopPropagation(),t()},children:"Reset default"})})]}),(0,l.jsx)(c.WVB,{children:(0,l.jsx)(c.j4H,{options:e.map(e=>({label:e.label,value:e.id})),values:x,onChange:e=>s(e)})})]})}var g=t(38855),p=t(55329),b=t(46081);function N(){let{autopilot:e}=(0,b.q)(),s=(0,p.e$)({config:{swr:{errorRetryCount:0}}});return{active:"on"===e.status&&!!s.error}}var w=t(42770);function T(){let{isViewingABucket:e}=(0,d.b)(),s=(0,g.n)(),t=N(),l=(0,w.F)();return e&&!t.active&&!l.active&&s.isSynced}let{useDropzone:y}=j;function z(){let{openDialog:e}=(0,r.Rh)(),{uploadFiles:s,isViewingBuckets:t}=(0,d.b)(),i=T(),{getRootProps:n,getInputProps:a}=y({noDrag:!0,noClick:!i,onDrop:s});return(0,l.jsxs)("div",{className:"flex gap-2",children:[t?(0,l.jsxs)(c.zxk,{onClick:()=>e("filesCreateBucket"),tip:"Create bucket",children:[(0,l.jsx)(o.aXP,{}),"Create bucket"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.zxk,{onClick:()=>e("filesSearch"),tip:"Search files",children:(0,l.jsx)(o.UBs,{})}),(0,l.jsxs)(c.zxk,{...n(),tip:"Upload files",disabled:!i,children:[(0,l.jsx)("input",{...a()}),(0,l.jsx)(o.bQp,{})]}),(0,l.jsx)(c.zxk,{disabled:!i,onClick:()=>e("filesCreateDirectory"),tip:"Create directory",children:(0,l.jsx)(o.L37,{})})]}),(0,l.jsx)(v,{})]})}var k=t(75618),S=t(21487);function C(){let e=(0,p.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}});if(!e.data&&e.isValidating)return(0,l.jsx)(c.xgg,{className:"pr-1"});if(!e.data)return null;let s=e.data.totalObjectsSize+e.data.totalUnfinishedObjectsSize,t=s?e.data.totalSectorsSize/s:0;return(0,l.jsx)(c.ua7,{side:"bottom",content:(0,l.jsxs)(c.xvT,{className:"flex justify-between gap-6",children:[(0,l.jsxs)(c.xvT,{className:"flex flex-col gap-1",children:[(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"size of all files"}),(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"with redundancy"}),!!t&&(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"average redundancy factor"}),(0,l.jsx)(c.Z0O,{className:"w-full my-1"}),(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"reclaimable space"}),(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"total storage utilization"})]}),(0,l.jsxs)(c.xvT,{className:"flex flex-col gap-1 items-end",children:[(0,l.jsx)(c.xvT,{size:"12",children:(0,S.vW)(e.data.totalObjectsSize)}),(0,l.jsx)(c.xvT,{size:"12",children:(0,S.vW)(e.data.totalSectorsSize)}),!!t&&(0,l.jsxs)(c.xvT,{size:"12",font:"mono",children:[t.toFixed(1),"x"]}),(0,l.jsx)(c.Z0O,{className:"w-full my-1"}),(0,l.jsx)(c.xvT,{size:"12",children:(0,S.vW)(e.data.totalUploadedSize-e.data.totalSectorsSize)}),(0,l.jsx)(c.xvT,{size:"12",children:(0,S.vW)(e.data.totalUploadedSize)})]})]}),children:(0,l.jsx)(c.xvT,{size:"12",font:"mono",children:"".concat((0,S.vW)(e.data.totalObjectsSize)).concat(t?" @ ".concat(t.toFixed(1),"x"):"")})})}var F=t(18121);function _(){var e,s;let t=(0,p.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}}),{displayHealth:i,label:n}=(0,F.B)({health:null===(e=t.data)||void 0===e?void 0:e.minHealth,size:1,isDirectory:!0}),r=(null===(s=t.data)||void 0===s?void 0:s.totalObjectsSize)===0;return!t.data||r?null:(0,l.jsx)(c.ua7,{align:"end",content:(0,l.jsxs)("div",{className:"flex flex-col overflow-hidden mb-1",children:[(0,l.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,l.jsx)(c.xvT,{size:"12",children:n}),(0,l.jsxs)(c.xvT,{size:"12",children:[(100*i).toFixed(0),"%"]})]}),(0,l.jsx)(c.Z0O,{className:"w-full my-1.5"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"Health is calculated as the minimum health value from across all file slabs. For directories this is across all contained files."}),(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"Slab health is calculated as the number of shards with active contracts in the autopilot contract set above the minimum required shards and expressed as a percentage."})]}),(0,l.jsx)(c.Z0O,{className:"w-full my-1.5"}),(0,l.jsxs)("div",{className:"flex gap-3 justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"excellent health"}),(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"good health"}),(0,l.jsx)(c.xvT,{size:"12",color:"subtle",children:"poor health"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1 items-end",children:[(0,l.jsxs)(c.xvT,{size:"12",color:"subtle",children:[100*F.V.excellent,"%"]}),(0,l.jsxs)(c.xvT,{size:"12",color:"subtle",children:[100*F.V.good,"% -"," ",100*F.V.excellent,"%"]}),(0,l.jsxs)(c.xvT,{size:"12",color:"subtle",children:[100*F.V.poor,"% - ",100*F.V.good,"%"]})]})]})]}),children:(0,l.jsx)(c.xvT,{size:"12",font:"mono",className:"flex",children:n})})}function W(){let e=(0,g.n)(),s=function(){let{autopilot:e}=(0,b.q)(),s=function(){var e,s;let{autopilot:t}=(0,b.q)(),l=(0,p.e$)({disabled:"on"!==t.status}),i=(0,p.M6)();return{isValidating:l.isValidating||i.isValidating,data:(null===(e=l.data)||void 0===e?void 0:e.contracts.set)===(null===(s=i.data)||void 0===s?void 0:s.default)}}();return{active:"on"===e.status&&!s.isValidating&&!s.data}}(),t=N(),i=(0,w.F)(),n=(0,a.useMemo)(()=>e.isSynced?null:(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)(c.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploads are disabled until renterd is synced."}),(0,l.jsx)(c.nvN,{size:"12",children:"The blockchain must be fully synced before uploading files. This can take a while depending on your hardware and network connection."})]},"syncStatus"),[e.isSynced]),r=(0,a.useMemo)(()=>t.active?(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)(c.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploads are disabled until settings are configured."}),(0,l.jsxs)(c.nvN,{size:"12",children:["Before you can upload files you must configure your settings. Once configured, ",(0,l.jsx)(c.EKh,{children:"renterd"})," will find contracts with hosts based on the settings you choose. ",(0,l.jsx)(c.EKh,{children:"renterd"})," will also repair your data as hosts come and go."]})]},"autopilotNotConfigured"):null,[t.active]),d=(0,a.useMemo)(()=>i.active?(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)(c.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploads are disabled until settings are configured."}),(0,l.jsxs)(c.nvN,{size:"12",children:["There are not enough contracts to upload data yet. Redundancy is configured to use ",i.required," shards which means at least that many contracts are required."]})]},"notEnoughContracts"):null,[i]),x=(0,a.useMemo)(()=>s.active?(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)(c.xvT,{size:"12",font:"mono",weight:"medium",color:"amber",children:"Uploaded data will not be managed by autopilot."}),(0,l.jsx)(c.nvN,{size:"12",children:"The autopilot contract set does not match the default contract set. This means that by default workers will not upload data to contracts that autopilot manages. Unless these contract are being manually maintained, this will result in data loss. Continue with caution or update the autopilot contract set to match the default contract set."})]},"contractSetMismatch"):null,[s.active]),u=(0,a.useMemo)(()=>[n,r,d,x].filter(Boolean),[n,r,d,x]);if(u.length)return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.J2e,{trigger:(0,l.jsx)(c.zxk,{variant:"ghost",icon:"contrast",color:"amber",children:(0,l.jsx)(o.qdM,{})}),children:(0,l.jsx)("div",{className:"flex flex-col gap-3 px-1 py-2",children:u})}),(0,l.jsx)(c.Z0O,{variant:"vertical",className:"h-full"})]})}var D=t(43385);function V(){var e;let{isViewingABucket:s,uploadsList:t,activeExplorerMode:i}=(0,d.b)(),{pageCount:n}=(0,k.J)(),{pageCount:r}=(0,D.o)(),a=(0,p.Q5)({config:{swr:{refreshInterval:6e4,keepPreviousData:!0,revalidateOnFocus:!1}}}),o=((null===(e=a.data)||void 0===e?void 0:e.numObjects)||0)+t.length;return s?(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)(c.ua7,{side:"bottom",content:"Number of files in page of current directory",children:(0,l.jsx)(c.xvT,{size:"12",font:"mono",children:("flat"===i?r:n).toLocaleString()})}),(0,l.jsx)(c.ua7,{side:"bottom",content:"Number of files across all buckets",children:(0,l.jsx)(c.xvT,{size:"12",font:"mono",children:a.data?"of ".concat(o.toLocaleString()," files"):" files"})})]}):(0,l.jsx)(c.ua7,{side:"bottom",content:"Number of files across all buckets",children:a.data?(0,l.jsxs)(c.xvT,{size:"12",font:"mono",children:[o.toLocaleString()," files"]}):(0,l.jsx)(c.xgg,{})})}function B(){return(0,l.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,l.jsx)(W,{}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(c.ua7,{side:"bottom",content:"Filtered statistics",children:(0,l.jsx)(c.xvT,{size:"12",color:"verySubtle",children:(0,l.jsx)(o.q0D,{})})}),(0,l.jsx)(V,{})]}),(0,l.jsx)(c.Z0O,{variant:"vertical",className:"h-full"}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(c.ua7,{side:"bottom",content:"Global statistics",children:(0,l.jsx)(c.xvT,{size:"12",color:"verySubtle",children:(0,l.jsx)(o.RFr,{})})}),(0,l.jsx)(C,{}),(0,l.jsx)(_,{})]})]})}var O=t(94225);function J(e){let{placeholder:s}=e,{setFilter:t,removeFilter:i,fileNamePrefixFilter:n}=(0,d.b)(),[r,x]=(0,a.useState)(n),[u]=(0,O.Nr)(r,500);return(0,a.useEffect)(()=>{n!==r&&x(n)},[n]),(0,a.useEffect)(()=>{n!==u&&(u.length?t({id:"fileNamePrefix",label:"",value:u}):i("fileNamePrefix"))},[u]),(0,l.jsxs)("div",{className:"flex gap-1 flex-1",children:[(0,l.jsx)(c.nvn,{variant:"ghost",focus:"none",placeholder:s||"Filter files in current directory",value:r,onChange:e=>x(e.currentTarget.value),className:"w-full !pl-0"}),!!r.length&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.zxk,{variant:"ghost",onClick:()=>x(""),children:(0,l.jsx)(o.PcV,{})}),(0,l.jsx)(c.Z0O,{variant:"vertical",className:"h-full"})]})]})}function P(){let{isViewingABucket:e,isViewingBuckets:s}=(0,d.b)(),{limit:t,offset:i,pageCount:n,dataState:r}=(0,k.J)();return(0,l.jsxs)("div",{className:"flex gap-3 w-full",children:[s?(0,l.jsx)("div",{className:"flex-1"}):(0,l.jsx)(J,{}),(0,l.jsx)(B,{}),e&&(0,l.jsx)(c.wFK,{offset:i,limit:t,pageTotal:n,isLoading:"loading"===r})]})}function M(){return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(c.xvT,{children:(0,l.jsx)(o.Ckx,{className:"scale-[200%]"})}),(0,l.jsx)(c.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}function K(){let{filters:e,resetFilters:s}=(0,d.b)();return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(c.xvT,{children:(0,l.jsx)(o.Hb6,{className:"scale-[200%]"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,l.jsx)(c.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."}),!!e.length&&(0,l.jsx)(c.zxk,{onClick:e=>{e.stopPropagation(),s()},children:"Clear filters"})]})]})}function E(){let{activeBucketName:e}=(0,d.b)();return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,l.jsx)(c.xvT,{children:(0,l.jsx)(o.Y9T,{className:"scale-[200%]"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,l.jsxs)(c.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["The ",(0,l.jsx)(c.EKh,{children:e})," bucket does not contain any files, drag and drop files or click here to start uploading."]}),(0,l.jsx)(c.Qjf,{href:n._.buckets.index,onClick:e=>{e.stopPropagation()},children:"View buckets list"})]})]})}function U(){let{isViewingRootOfABucket:e}=(0,d.b)(),{dataState:s}=(0,k.J)(),t=N(),i=(0,w.F)();return"noneMatchingFilters"===s?(0,l.jsx)(K,{}):"error"===s?(0,l.jsx)(M,{}):e&&"noneYet"===s&&t.active?(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,l.jsx)(c.xvT,{children:(0,l.jsx)(o.Y9T,{className:"scale-[200%]"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-6 justify-center items-center",children:[(0,l.jsxs)(c.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["Before you can upload files you must configure your settings. Once configured, ",(0,l.jsx)(c.EKh,{children:"renterd"})," will find contracts with hosts based on the settings you choose. ",(0,l.jsx)(c.EKh,{children:"renterd"})," will also repair your data as hosts come and go."]}),(0,l.jsx)(c.Qjf,{variant:"accent",href:n._.config.index,children:"Configure"})]})]}):e&&"noneYet"===s&&i.active?(0,l.jsxs)("div",{className:"flex flex-col gap-12 justify-center items-center h-[400px] cursor-pointer",children:[(0,l.jsx)(c.xvT,{children:(0,l.jsx)(o.Y9T,{className:"scale-[200%]"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 justify-center items-center",children:[(0,l.jsxs)(c.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["There are not enough contracts to upload data yet. Redundancy is configured to use ",i.required," shards which means at least that many contracts are required."]}),(0,l.jsxs)(c.xvT,{size:"30",className:"text-center max-w-[500px]",children:[i.count,"/",i.required]})]})]}):"noneYet"===s?(0,l.jsx)(E,{}):null}var H=t(72199);function R(){let{uploadFiles:e,sortField:s,sortDirection:t,sortableColumns:i,toggleSort:n}=(0,d.b)(),{datasetPage:r,pageCount:a,dataState:o,onDragEnd:x,onDragOver:u,onDragStart:h,onDragCancel:j,onDragMove:f,draggingObject:m}=(0,k.J)(),v=T();return(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(c.fhJ,{onDrop:e,noClick:!v||a>0,noDrag:!v,children:(0,l.jsx)(c.iA_,{isLoading:"loading"===o,emptyState:(0,l.jsx)(U,{}),pageSize:10,data:r,columns:H.z,sortableColumns:i,sortField:s,sortDirection:t,toggleSort:n,rowSize:"dense",onDragStart:h,onDragOver:u,onDragEnd:x,onDragCancel:j,onDragMove:f,draggingDatum:m})})})}function Q(){let{openDialog:e}=(0,r.Rh)();return(0,l.jsx)(h.J,{title:"Files",navTitle:null,routes:n._,sidenav:(0,l.jsx)(i.e,{}),nav:(0,l.jsx)(u,{}),stats:(0,l.jsx)(P,{}),actions:(0,l.jsx)(z,{}),openSettings:()=>e("settings"),children:(0,l.jsx)("div",{className:"p-6 min-w-fit",children:(0,l.jsx)(R,{})})})}function q(){let{activeBucketName:e,setActiveDirectory:s}=(0,d.b)();return(0,l.jsxs)("div",{className:"flex gap-2 items-center h-full",children:[(0,l.jsx)(x.C,{}),(0,l.jsx)(c.xrM,{children:(0,l.jsxs)("div",{className:"flex gap-1 items-center h-full",children:[(0,l.jsx)(c.xvT,{onClick:()=>s(()=>[]),size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"Buckets"}),(0,l.jsx)(c.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,l.jsx)(o.F3j,{})}),(0,l.jsx)(c.xvT,{onClick:()=>null,size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:e}),(0,l.jsx)(c.xvT,{size:"16",color:"verySubtle",className:"flex items-center",children:(0,l.jsx)(o.F3j,{})}),(0,l.jsx)(c.xvT,{size:"18",weight:"semibold",className:"flex items-center cursor-pointer",noWrap:!0,children:"All files"})]})})]})}function L(){let{openDialog:e}=(0,r.Rh)();return(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(c.zxk,{onClick:()=>e("filesSearch"),tip:"Search files",children:(0,l.jsx)(o.UBs,{})}),(0,l.jsx)(v,{})]})}function Z(){let{limit:e,pageCount:s,dataState:t,nextMarker:i,isMore:n}=(0,D.o)();return(0,l.jsxs)("div",{className:"flex gap-3 w-full",children:[(0,l.jsx)(J,{placeholder:"Filter files in current bucket"}),(0,l.jsx)(B,{}),(0,l.jsx)(c._5,{marker:i,isMore:n,limit:e,pageTotal:s,isLoading:"loading"===t})]})}function Y(){return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(c.xvT,{children:(0,l.jsx)(o.Ckx,{className:"scale-[200%]"})}),(0,l.jsx)(c.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"Error fetching files."})]})}function X(){let{filters:e,resetFilters:s}=(0,d.b)();return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px]",children:[(0,l.jsx)(c.xvT,{children:(0,l.jsx)(o.Hb6,{className:"scale-[200%]"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,l.jsx)(c.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:"No files matching filters."}),!!e.length&&(0,l.jsx)(c.zxk,{onClick:e=>{e.stopPropagation(),s()},children:"Clear filters"})]})]})}function A(){let{activeBucketName:e}=(0,d.b)();return(0,l.jsxs)("div",{className:"flex flex-col gap-10 justify-center items-center h-[400px] cursor-pointer",children:[(0,l.jsx)(c.xvT,{children:(0,l.jsx)(o.Y9T,{className:"scale-[200%]"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,l.jsxs)(c.xvT,{color:"subtle",className:"text-center max-w-[500px]",children:["The ",(0,l.jsx)(c.EKh,{children:e})," bucket does not contain any files."]}),(0,l.jsx)(c.Qjf,{href:n._.buckets.index,onClick:e=>{e.stopPropagation()},children:"View buckets list"})]})]})}function I(){let{dataState:e}=(0,D.o)();return"noneMatchingFilters"===e?(0,l.jsx)(X,{}):"error"===e?(0,l.jsx)(Y,{}):"noneYet"===e?(0,l.jsx)(A,{}):null}var $=t(33351);function G(){let{sortableColumns:e,toggleSort:s}=(0,d.b)(),{datasetPage:t,dataState:i,sortField:n,sortDirection:r}=(0,D.o)();return(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(c.iA_,{isLoading:"loading"===i,emptyState:(0,l.jsx)(I,{}),pageSize:10,data:t,columns:$.z,sortableColumns:e,sortField:n,sortDirection:r,toggleSort:s,rowSize:"dense"})})}function ee(){let{openDialog:e}=(0,r.Rh)();return(0,l.jsx)(h.J,{title:"Files",navTitle:null,routes:n._,sidenav:(0,l.jsx)(i.e,{}),nav:(0,l.jsx)(q,{}),stats:(0,l.jsx)(Z,{}),actions:(0,l.jsx)(L,{}),openSettings:()=>e("settings"),children:(0,l.jsx)("div",{className:"p-6 min-w-fit",children:(0,l.jsx)(G,{})})})}function es(){let{isViewingBuckets:e,activeExplorerMode:s}=(0,d.b)();return"directory"===s||e?(0,l.jsx)(Q,{}):(0,l.jsx)(ee,{})}},91362:function(e,s,t){t.d(s,{J:function(){return j}});var l=t(52322),i=t(69550),n=t(55329),r=t(6391),a=t.n(r),c=t(98334),o=t(38855),d=t(97112),x=t(21487);function u(){var e,s,t,r,a,c;let{openDialog:u}=(0,d.Rh)(),h=(0,n.d_)({config:{swr:{revalidateOnFocus:!1}}}),j=(0,n.X2)({config:{swr:{revalidateOnFocus:!1}}}),f=(0,n.cQ)(),m=(0,o.n)(),v=null===(e=h.data)||void 0===e?void 0:e.version,g="?"===v?"https://github.com/SiaFoundation/renterd/commits/":(null==v?void 0:v.match(/^v\d+\.\d+\.\d+/))?"https://github.com/SiaFoundation/renterd/releases/".concat(v):"https://github.com/SiaFoundation/renterd/tree/".concat(v),p=h.data?new Date().getTime()-new Date(null===(s=h.data)||void 0===s?void 0:s.startTime).getTime():0;return(0,l.jsxs)(i.HfT,{name:"renterd",peerCount:null===(t=f.data)||void 0===t?void 0:t.length,connectPeer:()=>u("connectPeer"),isSynced:m.isSynced,syncPercent:m.syncPercent,nodeBlockHeight:m.nodeBlockHeight,estimatedBlockHeight:m.estimatedBlockHeight,firstTimeSyncing:m.firstTimeSyncing,moreThan100BlocksToSync:m.moreThan100BlocksToSync,children:[(0,l.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,l.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Wallet address"}),(0,l.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,l.jsx)(i.XxW,{size:"14",maxLength:50,value:null===(r=j.data)||void 0===r?void 0:r.address,type:"address"})})]}),h.data&&(0,l.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,l.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Uptime"}),(0,l.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,l.jsx)(i.xvT,{size:"14",children:(0,x.bc)(p,{format:"long"})})})]}),(0,l.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,l.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Network"}),(0,l.jsx)("div",{className:"flex-1 flex justify-end overflow-hidden -mr-0.5 pr-0.5",children:(0,l.jsx)(i.xvT,{size:"14",children:null===(a=h.data)||void 0===a?void 0:a.network})})]}),(0,l.jsxs)("div",{className:"flex gap-4 justify-between items-center",children:[(0,l.jsx)(i.__J,{size:"14",color:"subtle",noWrap:!0,className:"w-[100px]",children:"Version"}),(0,l.jsx)(i.rUS,{size:"14",href:g,underline:"hover",target:"_blank",ellipsis:!0,children:null===(c=h.data)||void 0===c?void 0:c.version})]})]})}function h(){let e=(0,n.d_)({config:{swr:{revalidateOnFocus:!1}}});return e.data&&"Mainnet"!==e.data.network?(0,l.jsx)(i.t6k,{testnetName:e.data.network}):null}function j(e){let s=(0,n.X2)(),{isSynced:t}=(0,o.n)();return(0,l.jsx)(i.tU3,{appName:"renterd",profile:(0,l.jsx)(u,{}),banner:(0,l.jsx)(h,{}),connectivityRoute:c.h,isSynced:t,walletBalanceSc:s.data&&{spendable:new(a())(s.data.spendable),confirmed:new(a())(s.data.confirmed),unconfirmed:new(a())(s.data.unconfirmed)},...e})}},46075:function(e,s,t){t.d(s,{e:function(){return d}});var l=t(52322),i=t(69550),n=t(61020);function r(e){let{size:s=24}=e;return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:s,width:s,fill:"currentColor",viewBox:"0 0 512 512",children:[(0,l.jsx)("path",{d:"M361.975 224.499c0 9.58 7.766 17.344 17.344 17.344c9.58 0 17.34-7.768 17.34-17.344c0-72.711-59.152-131.868-131.853-131.868c-9.58 0-17.344 7.764-17.344 17.341c0 9.58 7.764 17.344 17.344 17.344C318.383 127.314 361.974 170.91 361.975 224.499z"}),(0,l.jsx)("path",{d:"M264.806 0c-9.58 0-17.344 7.768-17.344 17.344c0 9.576 7.763 17.341 17.344 17.341c104.648 0.003 189.785 85.152 189.785 189.814c0 9.576 7.766 17.344 17.342 17.344c9.578 0 17.344-7.768 17.344-17.344C489.275 100.711 388.577 0.003 264.806 0z"}),(0,l.jsx)("path",{d:"M101.971 74.983c-3.272-3.275-7.696-5.08-12.264-5.08c-0.777 0-1.56 0.053-2.343 0.159c-5.37 0.734-10.088 3.936-12.755 8.654c-54.225 95.991-37.602 217.536 40.424 295.572c46.561 46.57 108.472 72.216 174.327 72.22c0.005 0 0.009 0 0.014 0c42.487 0 84.399-10.993 121.201-31.787c4.718-2.667 7.92-7.383 8.651-12.753c0.734-5.37-1.086-10.774-4.917-14.607L101.971 74.983z"}),(0,l.jsx)("path",{d:"M298.517 190.512c-15.494-15.498-37.459-20.637-57.28-15.484l72.77 72.778C319.155 227.983 314.015 206.014 298.517 190.512z"}),(0,l.jsx)("path",{d:"M79.639 376.716l-55.084 110.185c-2.688 5.377-2.4 11.76 0.76 16.875c3.16 5.111 8.74 8.223 14.753 8.223h229.216c9.578 0 17.342-7.764 17.342-17.342v-20.437c-72.244-0.703-140.059-29.151-191.214-80.313C89.872 388.367 84.618 382.629 79.639 376.716z"})]})}var a=t(82851),c=t(98334),o=t(88385);function d(){let{totals:e}=(0,o.Z)(),s=e.all===e.info;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.KJW,{title:"Files",route:c._.buckets.index,children:(0,l.jsx)(n.ROc,{})}),(0,l.jsx)(i.KJW,{title:"Configuration",route:c._.config.index,children:(0,l.jsx)(n.wWN,{})}),(0,l.jsx)(i.KJW,{title:"Contracts",route:c._.contracts.index,children:(0,l.jsx)(n.VBo,{})}),(0,l.jsx)(i.KJW,{title:"Hosts",route:c._.hosts.index,children:(0,l.jsx)(n.VHe,{})}),(0,l.jsx)(i.KJW,{title:"S3 authentication keypairs",route:c._.keys.index,children:(0,l.jsx)(n._m8,{})}),(0,l.jsx)(i.KJW,{title:"Satellite",route:c._.satellite.index,children:(0,l.jsx)(r,{})}),(0,l.jsxs)("div",{className:"relative",children:[e.all?s?(0,l.jsx)("div",{className:(0,a.cx)("absolute -right-[2px] top-px w-1 h-1","rounded-full","bg-gray-1000 dark:bg-white","pointer-events-none")}):(0,l.jsx)(i.xvT,{size:"10",className:(0,a.cx)("absolute -right-[9px] -top-1 py-px px-[5px]","text-white","bg-red-500 dark:bg-red-500 rounded","pointer-events-none"),color:"none",children:e.all.toLocaleString()}):null,(0,l.jsx)(i.KJW,{title:"Alerts",route:c._.alerts.index,children:(0,l.jsx)(n.Dkj,{})})]})]})}}}]);